<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Logger Commands - Bannerlord GameMaster Documentation</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <div class="header-content">
            <h1>ðŸŽ® Bannerlord GameMaster</h1>
            <p class="subtitle">Logger Commands Documentation</p>
        </div>
    </header>

    <nav>
        <div class="nav-content">
            <ul class="nav-links">
                <li><a href="index.html">Home</a></li>
                <li><a href="hero-commands.html">Hero Commands</a></li>
                <li><a href="clan-commands.html">Clan Commands</a></li>
                <li><a href="kingdom-commands.html">Kingdom Commands</a></li>
                <li><a href="query-commands.html">Query Commands</a></li>
                <li><a href="logger-commands.html" class="active">Logger Commands</a></li>
                <li><a href="testing-commands.html">Testing Commands</a></li>
            </ul>
        </div>
    </nav>

    <div class="breadcrumbs">
        <a href="index.html">Home</a> / Logger Commands
    </div>

    <main>
        <div class="container">
            <h2>Command Logger Commands</h2>
            <p>
                Commands for managing the command logging system. The logger automatically records all executed GameMaster
                commands with timestamps, parameters, and results for debugging, analysis, and audit trail purposes.
            </p>

            <div class="note">
                <strong>Tip:</strong> Enable logging when troubleshooting issues or when you need to track command history.
                The log file can be reviewed later to understand what commands were executed and their outcomes.
            </div>

            <!-- Logger Control Section -->
            <h2 id="logger-control">Logger Control</h2>

            <div class="command">
                <div class="command-header">
                    <span class="command-name">gm.log.enable</span>
                    <span class="command-tag">CONTROL</span>
                </div>
                <div class="command-description">
                    Enables command logging and initializes the log file. All subsequent GameMaster commands will be
                    recorded with timestamps, parameters, and results.
                </div>

                <div class="parameters">
                    <h4>Parameters</h4>
                    <div class="param-list">
                        <div class="param-item">
                            <span class="param-name">custom_path</span>
                            <span class="param-type">string</span>
                            <span class="param-optional">Optional</span>
                            <div class="param-desc">Custom file path for the log file. If not specified, uses default location.</div>
                        </div>
                    </div>
                </div>

                <div class="examples">
                    <h4>Examples</h4>
                    <div class="example">
                        <div class="example-title">Enable with default path</div>
                        <div class="code-block">
                            <code>gm.log.enable</code>
                        </div>
                    </div>
                    <div class="example">
                        <div class="example-title">Enable with custom path</div>
                        <div class="code-block">
                            <code>gm.log.enable C:\MyLogs\commands.txt</code>
                        </div>
                    </div>
                </div>

                <div class="returns">
                    <h4>Returns</h4>
                    <div class="output-example">
                        <strong>Success:</strong> "Command logging enabled."
                        <br>"Log file: {file_path}"
                    </div>
                </div>

                <div class="note">
                    <strong>Default Log Location:</strong> 
                    <br>Documents\Mount and Blade II Bannerlord\Configs\GameMaster\command_log.txt
                    <br><br>The logger will automatically create the directory and file if they don't exist.
                </div>
            </div>

            <div class="command">
                <div class="command-header">
                    <span class="command-name">gm.log.disable</span>
                    <span class="command-tag">CONTROL</span>
                </div>
                <div class="command-description">
                    Disables command logging. Previously logged commands remain in the file, but new commands will not be recorded.
                </div>

                <div class="parameters">
                    <h4>Parameters</h4>
                    <div class="param-list">
                        <div class="param-item">
                            <span class="param-name">None</span>
                            <div class="param-desc">This command takes no parameters</div>
                        </div>
                    </div>
                </div>

                <div class="examples">
                    <h4>Examples</h4>
                    <div class="example">
                        <div class="example-title">Disable logging</div>
                        <div class="code-block">
                            <code>gm.log.disable</code>
                        </div>
                    </div>
                </div>

                <div class="returns">
                    <h4>Returns</h4>
                    <div class="output-example">
                        <strong>Success:</strong> "Command logging disabled."
                    </div>
                </div>

                <div class="note">
                    <strong>Note:</strong> Disabling logging does not delete the log file. The file remains intact and
                    can be reviewed at any time. Re-enabling logging will append to the existing file.
                </div>
            </div>

            <!-- Logger Status Section -->
            <h2 id="logger-status">Logger Status & Information</h2>

            <div class="command">
                <div class="command-header">
                    <span class="command-name">gm.log.status</span>
                    <span class="command-tag">INFO</span>
                </div>
                <div class="command-description">
                    Displays current logging status, file location, size, and entry count statistics.
                </div>

                <div class="parameters">
                    <h4>Parameters</h4>
                    <div class="param-list">
                        <div class="param-item">
                            <span class="param-name">None</span>
                            <div class="param-desc">This command takes no parameters</div>
                        </div>
                    </div>
                </div>

                <div class="examples">
                    <h4>Examples</h4>
                    <div class="example">
                        <div class="example-title">Check logging status</div>
                        <div class="code-block">
                            <code>gm.log.status</code>
                        </div>
                    </div>
                </div>

                <div class="returns">
                    <h4>Returns</h4>
                    <div class="output-example">
                        <strong>Success:</strong> "Command Logger Status:"
                        <br>"Status: ENABLED" (or DISABLED)
                        <br>"Log File: {file_path}"
                        <br>"File Size: {size in KB/MB}"
                        <br>"Log Entries: {count}"
                    </div>
                </div>

                <div class="note">
                    <strong>Note:</strong> This command provides a quick overview of the logging system state without
                    opening or modifying the log file. Useful for verifying logging is active before performing important operations.
                </div>
            </div>

            <!-- Log File Management Section -->
            <h2 id="log-management">Log File Management</h2>

            <div class="command">
                <div class="command-header">
                    <span class="command-name">gm.log.clear</span>
                    <span class="command-tag">MANAGEMENT</span>
                </div>
                <div class="command-description">
                    Clears all content from the log file while keeping the file and logging system intact. A new session
                    header is written after clearing.
                </div>

                <div class="parameters">
                    <h4>Parameters</h4>
                    <div class="param-list">
                        <div class="param-item">
                            <span class="param-name">None</span>
                            <div class="param-desc">This command takes no parameters</div>
                        </div>
                    </div>
                </div>

                <div class="examples">
                    <h4>Examples</h4>
                    <div class="example">
                        <div class="example-title">Clear the log file</div>
                        <div class="code-block">
                            <code>gm.log.clear</code>
                        </div>
                    </div>
                </div>

                <div class="returns">
                    <h4>Returns</h4>
                    <div class="output-example">
                        <strong>Success:</strong> "Log file cleared."
                        <br>"Log file: {file_path}"
                    </div>
                </div>

                <div class="warning">
                    <strong>Warning:</strong> This action permanently deletes all logged command history from the file.
                    Consider backing up the log file first if you need to preserve the command history for reference.
                </div>
            </div>

            <div class="command">
                <div class="command-header">
                    <span class="command-name">gm.log.help</span>
                    <span class="command-tag">INFO</span>
                </div>
                <div class="command-description">
                    Displays comprehensive help information about logging commands including usage examples and best practices.
                </div>

                <div class="parameters">
                    <h4>Parameters</h4>
                    <div class="param-list">
                        <div class="param-item">
                            <span class="param-name">None</span>
                            <div class="param-desc">This command takes no parameters</div>
                        </div>
                    </div>
                </div>

                <div class="examples">
                    <h4>Examples</h4>
                    <div class="example">
                        <div class="example-title">Display logger help</div>
                        <div class="code-block">
                            <code>gm.log.help</code>
                        </div>
                    </div>
                </div>

                <div class="returns">
                    <h4>Returns</h4>
                    <div class="output-example">
                        <strong>Success:</strong> Displays a comprehensive help message including:
                        <br>â€¢ Overview of all logger commands
                        <br>â€¢ Usage examples for each command
                        <br>â€¢ Default log location information
                        <br>â€¢ Integration notes for command developers
                    </div>
                </div>
            </div>

            <!-- Log Format Section -->
            <h2 id="log-format">Log File Format</h2>

            <p>
                The command logger writes entries in a structured, human-readable format. Each log entry includes:
            </p>

            <div class="param-list">
                <div class="param-item">
                    <strong>Session Header</strong>
                    <div class="param-desc">
                        Marks the beginning of a logging session with a timestamp
                        <div class="code-block">
                            <code>========================================
<br>Command Logging Started: 2024-01-15 14:30:00
<br>========================================</code>
                        </div>
                    </div>
                </div>
                <div class="param-item">
                    <strong>Command Entry</strong>
                    <div class="param-desc">
                        Each command execution is logged with:
                        <ul>
                            <li>Timestamp of execution</li>
                            <li>Full command with parameters</li>
                            <li>Execution result (success/error message)</li>
                            <li>Separator line for readability</li>
                        </ul>
                        <div class="code-block">
                            <code>[2024-01-15 14:30:15] gm.hero.set_gold lord_1_1 10000
<br>Result: Success: Raganvad's gold changed from 5000 to 10000.
<br>----------------------------------------</code>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Usage Scenarios Section -->
            <h2 id="usage-scenarios">Common Usage Scenarios</h2>

            <div class="example">
                <div class="example-title">Debugging Workflow</div>
                <p class="param-desc">
                    When troubleshooting issues, enable logging before executing commands:
                </p>
                <div class="code-block">
                    <code>1. gm.log.enable
<br>2. (execute your commands)
<br>3. gm.log.status (check entries were recorded)
<br>4. (review log file in Documents folder)</code>
                </div>
            </div>

            <div class="example">
                <div class="example-title">Audit Trail</div>
                <p class="param-desc">
                    For important save games, keep logging enabled to maintain a complete command history:
                </p>
                <div class="code-block">
                    <code>gm.log.enable C:\MySaves\campaign1_commands.txt</code>
                </div>
                <p class="param-desc">
                    This creates a permanent record of all modifications made through console commands.
                </p>
            </div>

            <div class="example">
                <div class="example-title">Performance Testing</div>
                <p class="param-desc">
                    Clear logs before running tests to get a clean record:
                </p>
                <div class="code-block">
                    <code>1. gm.log.clear
<br>2. gm.test.register_all_run
<br>3. (review log to see all test command executions)</code>
                </div>
            </div>

            <!-- Quick Reference -->
            <h2>Quick Reference</h2>
            <div class="param-list">
                <div class="param-item">
                    <strong>Logger Control:</strong>
                    <div class="param-desc">
                        <code>gm.log.enable [path]</code> - Enable logging<br>
                        <code>gm.log.disable</code> - Disable logging
                    </div>
                </div>
                <div class="param-item">
                    <strong>Status & Info:</strong>
                    <div class="param-desc">
                        <code>gm.log.status</code> - Show logging status<br>
                        <code>gm.log.help</code> - Display help information
                    </div>
                </div>
                <div class="param-item">
                    <strong>Management:</strong>
                    <div class="param-desc">
                        <code>gm.log.clear</code> - Clear log file contents
                    </div>
                </div>
            </div>

            <h2>Integration Notes</h2>
            <div class="note">
                <strong>For Developers:</strong> Commands integrated with the CommandLogger.Cmd wrapper automatically
                benefit from logging when enabled. The logging system captures the command string, arguments, and result
                without requiring additional code in individual commands.
            </div>

            <div class="note">
                <strong>Performance:</strong> Logging has minimal performance impact. File writes are performed
                asynchronously and only occur when logging is enabled. The system automatically handles file creation,
                directory creation, and error handling.
            </div>

            <h2>Best Practices</h2>
            <div class="param-list">
                <div class="param-item">
                    <strong>Regular Backups</strong>
                    <div class="param-desc">
                        Periodically save copies of your log file, especially before clearing or when it contains
                        important command history for a save game.
                    </div>
                </div>
                <div class="param-item">
                    <strong>Organized Storage</strong>
                    <div class="param-desc">
                        Use custom paths to organize logs by save game or purpose:
                        <code>gm.log.enable C:\MyLogs\SaveGame1\commands.txt</code>
                    </div>
                </div>
                <div class="param-item">
                    <strong>File Size Management</strong>
                    <div class="param-desc">
                        Check log file size with <code>gm.log.status</code> periodically. Clear or archive large log
                        files to prevent them from growing too large.
                    </div>
                </div>
                <div class="param-item">
                    <strong>Enable During Testing</strong>
                    <div class="param-desc">
                        Always enable logging when testing new mod features or troubleshooting issues. The log provides
                        valuable diagnostic information.
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer>
        <div class="footer-content">
            <p>&copy; 2024 Bannerlord GameMaster Mod - Console Commands Documentation</p>
            <p><a href="index.html">Return to Home</a></p>
        </div>
    </footer>
</body>
</html>